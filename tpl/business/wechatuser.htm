<div id="page-content">
    <div class="clear">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="clear">
                    <label class="lh34">公众号关注者列表</label>
                    <button class="btn btn-primary pull-right col-lg-2 col-md-2 col-xs-12 col-sm-2" v-on:click="sync">刷新列表</button>
                </div>
            </div>
            <div class="panel-body">
                <table width="100%" class="table !table-striped table-bordered table-hover table-condensed" id="main-table" v-if="wechatusers!= null">
                    <thead>
                        <tr>
                            <th>头像</th>
                            <th>昵称</th>
                            <th class="hidden-xs">性别</th>
                            <th class="hidden-xs">地区</th>
                            <th class="hidden-xs">备注</th>
                            <th>关联客户</th>
                        </tr>
                    </thead>
                    <tbody>
                    <tr v-for="(weuser , wk) in wechatusers" v-on:click="edit" v-bind:wk="wk" v-bind:class="{ danger: weuser.customers.length > 1 }">
                        <td><div class="userinfo-avatar"><img v-bind:src="weuser.headimgurl" /></div></td>
                        <td>{{weuser.nickname}}</td>
                        <td class="hidden-xs"><span v-if="weuser.gender == 1">男</span><span v-else>女</span></td>
                        <td class="hidden-xs">{{weuser.country}}{{weuser.province}}{{weuser.city}}</td>
                        <td class="hidden-xs">{{weuser.comments}}</td>
                        <td>
                            <div v-for="customer in weuser.customers">
                                {{customer.info.title}}({{customer.info.name}})
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="theModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="theModalLabel">为"<b>{{modal.title}}</b>"添加备注</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="theComments">备注</label>
                        <input type="text" class="form-control" id="theComments" placeholder="备注" v-model.trim="modal.comments">
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" v-on:click="ensure">确认</button>
                </div>
            </div>
        </div>
    </div>
</div>

